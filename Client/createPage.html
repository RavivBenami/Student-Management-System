<html>
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="design.css" />
  </head>
  <body align="center">
    <div class="header">
      <a class="logo">Students</a>
      <div class="header-left">
        <a href="mainPage.html">Back</a>
      </div>
    </div>
    <br/>

    <div class="l-form">
      <form action="mainPage.html" class="form">
        <h1 class="form-title">Create new student</h1>
        <div class="form-div">
          ID:<br>
          <input type="text" id="id" class="form-input"/>
        </div>
        <div class="form-div">
          Full Name:<br>
          <input type="text" id="fullName" class="form-input" />
        </div>
        <div class="form-div">
          Email:<br> 
          <input type="email" id="email" class="form-input" />
        </div>
        <div class="form-div">
          Faculty:<br>
          <input type="text" id="faculty" class="form-input"/>
        </div>
        <div class="form-div">
            Birth date:<br>
            <input type="date" id="date" class="form-input"/>
        </div>
        <br>
        <input type="submit" onclick="create()" class="btn btn-success" style="width: 100%;"/>
      </form>
    </div>
    <script>
      async function create() {
        var id = document.getElementById("id").value;
        var fullName = document.getElementById("fullName").value;
        var email = document.getElementById("email").value;
        var faculty = document.getElementById("faculty").value;
        var date = document.getElementById("date").value;
        console.log(date);

        var obj = {
          id: id,
          fullName: fullName,
          email: email,
          faculty: faculty,
          birthDate: date,
        };

        try {
          var resp = await fetch(`http://localhost:8000/students/`, {
            method: "post",
            body: JSON.stringify(obj),
            headers: { "content-type": "application/json" },
          });
        } catch (e) {
          console.log(e);
        }
      }
    </script>
  </body>
</html>
